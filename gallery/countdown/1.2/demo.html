<!doctype html>
<html>
<head>
<meta charset="gbk"/>
<title>KISSY gallery - countdown</title>
<link rel="shortcut icon" href="../../../../kissy-dpl/base/assets/favicon.ico"/>
<link rel="stylesheet" href="../../../../kissy-dpl/base/assets/reset.css"/>
<link rel="stylesheet" href="../../../../kissy-dpl/base/assets/kissy-docs.css"/>
<script src="http://docs.kissyui.com/kissy/build/kissy.js"></script>
<script src="../../../../kissy-dpl/base/assets/kissy-docs.js"></script>
<script>
    KISSY.config({
        packages:[
            {
                name:"gallery",
                tag:"20111220",
                path:"../../../",  // cdn上适当修改对应路径
                charset:"utf-8"
            }
        ]
    });
</script>
</head>
<body>
<div id="header">
    <h1 class="logo"><a href="http://kissyui.com/"><img src="../../../../kissy-dpl/base/assets/logo.png" alt="KISSY"/></a></h1>
    <div class="sub-title">Gallery</div>
    <ul class="navigation">
        <li><a href="http://blog.kissyui.com/">博客</a></li>
        <li><a href="http://github.com/kissyteam">源码</a></li>
    </ul>
</div>
<div id="content">
<div class="s-crumbs">
    <span>当前位置：</span>
    <a href="http://kissyui.com/">KISSY</a>
    <a href="../../../index.html">Gallery</a>
    <span>countdown</span>
</div>

<pre class="s-section">				
作者： jide<jide@taobao.com> 基德
功能： 倒计时
描述： 倒计时
源码：<a href="countdown.js">countdown.js</a>
</pre>

<h1>demo :</h1>

<div id="demo1">
    <p>1</p>
    <div class="cd cd-lite" data-total="1121685000">剩余时间：${d}天${h}时${m}分</div>
    <div class="cd cd-medium" data-total="1121685000">剩余时间：${d}天${h}时${m}分</div>
    <div class="cd cd-large" data-total="1121685000">剩余时间：<span class="clock">${d}天${h}时${m}分</span></div>
    <p>2</p>
    <div class="cd cd-lite" data-total="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd cd-medium" data-total="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd cd-large" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
    <p>3</p>
    <div class="cd cd-lite" data-total="1121685000">剩余时间：${h}时${m}分${s-ext}秒</div>
    <div class="cd cd-medium" data-total="1121685000">剩余时间：${h}时${m}分${s-ext}秒</div>
    <div class="cd cd-large" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s-ext}秒</span></div>
    <p>4 滑动</p>
    <div class="cd cd-lite cd-slide" data-total="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd cd-medium cd-slide" data-total="1121685000">剩余时间：${h}时${m}分${s}秒</div>
    <div class="cd cd-large cd-slide" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
    <p>5 不太完美的翻牌</p>
    <div class="cd cd-large cd-flip" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
</div>
<div id="demo2">
    <p>6 notify：cd.notify(xx, fn); 当倒计时还剩xx毫秒时调用fn</p>
    <div class="cd cd-large cd-slide" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
</div>
<div id="demo3">
    <p>7 大于24小时配置</p>
    <div class="cd cd-large cd-slide" data-total="1121685000">剩余时间：<span class="clock">${h}时${m}分${s}秒</span></div>
</div>
<div id="demo4">
    <p>8 自定义模板</p>
    <div class="cd cd-large cd-slide" data-total="1121685000">剩余时间：<span class="clock">$(h)时$(m)分$(s)秒</span></div>
</div>

<script>
    var S = KISSY;
    
    S.use("gallery/countdown/1.2/index, gallery/countdown/1.2/assets/countdown.css",function(S, Countdown){
        function factory(node) {
            if (node.hasClass('cd-slide')) {
                Countdown(node, {effect: 'slide'});
            } else if (node.hasClass('cd-flip')) {
                Countdown(node, {effect: 'flip'});
            } else {
                Countdown(node);
            }
        }
        // normal
        S.all('#demo1 .cd').each(factory);

        // 3秒循环.
        S.all('#demo2 .cd').each(function (node) {
            Countdown(node, {effect: 'slide'}).notify(0, function() {
                this.left = 3000;
            });
        });

        // custom 99
        S.all('#demo3 .cd').each(function (node) {
            var cd = Countdown(node, {
                effect: 'slide',
                _clock: ['d', 100, 2, 'h', 100, 2, 'm', 60, 2, 's', 60, 2, 'u', 10, 1]
            });
        });

        // custom reg
        S.all('#demo4 .cd').each(function (node) {
            Countdown(node, {
                effect: 'slide',
                _varReg: /\$\(([\-\w]+)\)/g
            });
        });
    });
</script>
    </div>
</body>
</html>
